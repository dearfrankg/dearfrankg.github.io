<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>dev notes</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <link rel="stylesheet" href="/css/font_859455_eaq7v6w8ktj.css">
</head>

<body>
<header class="header">
    <div class="header-inner">
        <div class="header-title">

        </div>
        <nav class="header-nav">
            
            <a href="/" class="header-nav-link">
                Home
            </a>
            

            
            <a href="/archives" class="header-nav-link">
                Archives
            </a>
            

            
            <a href="/tags" class="header-nav-link">
                Tags
            </a>
            

            
        </nav>
    </div>
</header>
<header class="mobile-header">
    <div class="mobile-nav">
        <div class="mobile-nav-icon">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="mobile-nav-title">
            <a href="/" class="mobile-nav-title-link">Frank Gutierrez's Blog</a>
        </div>

    </div>
    <nav class="mobile-menu">
        <ul class="mobile-menu-list">
            <li class="mobile-menu-item">
                <i class="iconfont icon-home"></i>
                <a href="/" class="mobile-nav-link">Home</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-archive"></i>
                <a href="/archives" class="mobile-nav-link">Archives</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-tag"></i>
                <a href="/tags" class="mobile-nav-link">Tags</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-about"></i>
                <a href="/about/" class="mobile-nav-link">About</a>
            </li>
        </ul>
    </nav>
</header>
<div class="main">
    <div class="content-inner">
        <div class="posts">
    
        <article class="post-abstract">
            <div class="post-title">
                <h2><a class="post-title-link" href="/2018/11/10/20181110-learning-nextjs/">learning nextjs</a></h2>
            </div>
            <div class="post-meta">
                <span class="post-time">2018-11-10</span>
                
            </div>
            <div class="post-content">
                
                    <h2 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h2><h3 id="the-hard-way"><a href="#the-hard-way" class="headerlink" title="the hard way"></a>the hard way</h3><ul>
<li>manually install the necessary packages</li>
<li>update scripts in package.json</li>
<li>add pages directory</li>
<li>start dev server</li>
</ul>
<h3 id="the-easy-way"><a href="#the-easy-way" class="headerlink" title="the easy way"></a>the easy way</h3><ul>
<li>review choices at <a href="https://goo.gl/8iZS8D" target="_blank" rel="noopener">Next.js examples</a></li>
<li>follow the install instuctions in the readme file.</li>
<li>start dev server</li>
</ul>
<p>typical install process:</p>
<pre><code>npx create-next-app --example with-apollo-and-redux with-apollo-and-redux-app
</code></pre><h2 id="Style-and-Design-Support"><a href="#Style-and-Design-Support" class="headerlink" title="Style and Design Support"></a>Style and Design Support</h2><h3 id="evergreen-ui-react-design-component-lib"><a href="#evergreen-ui-react-design-component-lib" class="headerlink" title="evergreen-ui - react design component lib"></a>evergreen-ui - react design component lib</h3><p><a href="https://evergreen.segment.com/" target="_blank" rel="noopener">evergreen-ui</a></p>
<p>install</p>
<pre><code>npm i --save evergeen-ui
</code></pre><p>setup</p>
<p>Include a <a href="https://goo.gl/Kzgwbc" target="_blank" rel="noopener">_document.js</a> script that will render evergreen CSS and JS for the client.</p>
<ul>
<li>the CSS rendered will be for <code>evergreen</code>, and support libs <code>glamor</code>, and <code>ui-box</code>.</li>
<li>the JS rendered as a script tag which contains a CSS cache.</li>
</ul>
<p>hydration</p>
<p>The act of providing state to the client is called <code>hydation</code>. In this case we will be supplying the CSS cache. The <code>CSS cache</code> is a JS object generated from scanning the <code>css-in-js</code> to extract style. The keys are generated hashes like <code>&#39;jdvhd&#39;</code>, and the values are the associated CSS string. Both the client and the server generate hashes but on the client it will leverage the cache if available.</p>
<h3 id="styled-components"><a href="#styled-components" class="headerlink" title="styled components"></a>styled components</h3><p><a href="https://www.styled-components.com/" target="_blank" rel="noopener">styled components</a></p>
<blockquote>
<p><a href="https://goo.gl/aGL5Aa" target="_blank" rel="noopener">nesting rules</a></p>
</blockquote>
<p>install</p>
<pre><code>npm i --save styled-components
</code></pre><p>setup</p>
<ul>
<li><a href="https://goo.gl/Vnh89f" target="_blank" rel="noopener">_document.js</a></li>
<li><a href="https://goo.gl/Zrrdyp" target="_blank" rel="noopener">.babelrc</a></li>
</ul>
<h3 id="style-jsx-sass"><a href="#style-jsx-sass" class="headerlink" title="style-jsx-sass"></a>style-jsx-sass</h3><p><a href="https://goo.gl/kKqcy8" target="_blank" rel="noopener">style-jsx-sass</a></p>
<p>install</p>
<pre><code>npm i --save style-jsx-sass node-sass
</code></pre><p>setup</p>
<ul>
<li><a href="https://goo.gl/tN63HX" target="_blank" rel="noopener">.babelrc</a></li>
</ul>
<h2 id="Assets"><a href="#Assets" class="headerlink" title="Assets"></a>Assets</h2><h3 id="Fonts"><a href="#Fonts" class="headerlink" title="Fonts"></a>Fonts</h3><ul>
<li><code>font-awesome</code></li>
<li><code>Open Sans</code> font from google fonts</li>
</ul>
<p>setup</p>
<ul>
<li><a href="https://goo.gl/YFWoZA" target="_blank" rel="noopener">meta.js</a> component</li>
</ul>
<h3 id="Images"><a href="#Images" class="headerlink" title="Images"></a>Images</h3><p>setup</p>
<ul>
<li><code>static</code> folder</li>
</ul>
<p>You can serve static files from the static folder</p>
<h2 id="Gotchas"><a href="#Gotchas" class="headerlink" title="Gotchas"></a>Gotchas</h2><h3 id="Browser-issue-with-CSS-Grid"><a href="#Browser-issue-with-CSS-Grid" class="headerlink" title="Browser issue with CSS-Grid"></a>Browser issue with CSS-Grid</h3><p>There is a gotcha using fractional units with grid-rows. To use fractional units <code>1fr</code> with grid-rows, you must specify the size of the container div. You cannot use a percentage for the size or it will not work. See example gist <a href="https://goo.gl/5sE6RU" target="_blank" rel="noopener">here</a></p>

                
            </div>
        </article>
    
        <article class="post-abstract">
            <div class="post-title">
                <h2><a class="post-title-link" href="/2018/11/06/20181105-react-storybook/">react storybook</a></h2>
            </div>
            <div class="post-meta">
                <span class="post-time">2018-11-06</span>
                
            </div>
            <div class="post-content">
                
                    <h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>Storybook is the most popular UI component development tool for React. It helps you develop and design UI components outside your app in an isolated environment.</p>
<p><a href="https://www.learnstorybook.com/" target="_blank" rel="noopener">Learn Storybook</a> aims to teach tried-and-true patterns for component development using Storybook. You’ll walk through essential UI component techniques while building a UI from scratch in React.</p>
<h2 id="Steps-Covered"><a href="#Steps-Covered" class="headerlink" title="Steps Covered"></a>Steps Covered</h2><ul>
<li>setup</li>
<li>simple component</li>
<li>composite component</li>
<li>data</li>
<li>screens</li>
<li>testing</li>
<li>addons</li>
<li>deploy</li>
<li>conclusions</li>
</ul>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a href="https://www.learnstorybook.com/" target="_blank" rel="noopener">Storybook Tutorial</a></li>
</ul>

                
            </div>
        </article>
    
        <article class="post-abstract">
            <div class="post-title">
                <h2><a class="post-title-link" href="/2018/11/03/20181101-securing-your-web-app/">securing your web app</a></h2>
            </div>
            <div class="post-meta">
                <span class="post-time">2018-11-03</span>
                
            </div>
            <div class="post-content">
                
                    <h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>We’re going to explore ways that rogue agents can attack your web app, then we’ll a implement a plan that will protect against these attacks and keep your app secure.</p>
<h2 id="Attack-Vectors"><a href="#Attack-Vectors" class="headerlink" title="Attack Vectors"></a>Attack Vectors</h2><h3 id="MIM-Man-In-The-Middle"><a href="#MIM-Man-In-The-Middle" class="headerlink" title="MIM - Man In The Middle"></a>MIM - Man In The Middle</h3><p>MIM is an attack where an attacker sits in a public coffee shop sniffing internet traffic. When they are able to sniff your JWT token they can maliciously access your app.</p>
<p>Danger: When passing credentials such as passwords or JWT over the intenet insecurely then an attacker can maliciously access your app.</p>
<p>Solution: Use <code>HTTPS</code> to protect app internet traffic and use <code>VPN</code> to protect all internet tracffic.</p>
<h3 id="XSS-Cross-Site-Scripting"><a href="#XSS-Cross-Site-Scripting" class="headerlink" title="XSS - Cross Site Scripting"></a>XSS - Cross Site Scripting</h3><p>XSS is an attack technique where an atacker can run javascript in your app because they have control over a 3rd party script used in your app, allowing them to maliciously access your app</p>
<p>Danger: An attacker with the ability to run javascript in your app could gain access to an insecurely stored JWT and use that to maliciously access your app.</p>
<p>Solution: It’s not reasonable to control all 3rd party scripts, so the next best thing is to secure sensitive data from javascript. Store your JWT in a secure cookie with no javascript access and only https access. Do not store your JWT in web-storage, local-storage, or unprotected-cookie.</p>
<h3 id="CSRF-Cross-Site-Request-Forgery"><a href="#CSRF-Cross-Site-Request-Forgery" class="headerlink" title="CSRF - Cross Site Request Forgery"></a>CSRF - Cross Site Request Forgery</h3><p>CSRF is an attack technique where an attacker can call your app from their domain and your incorrectly configured app gives them authorization by passing an authorization cookie to the server.</p>
<p>Danger: When your cookie is incorrectly configured to be passed from any domain to your server on every request then a rogue agent can gain authorization to your app.</p>
<p>Solution: configure as follows:</p>
<ul>
<li>use cookie option <code>httpOnly</code> to prevents javascript from reading the cookie.</li>
<li>use cookie option <code>secure</code> which forces https use and prevents sniffing on the wire.</li>
<li>store JWT in a secure cookie to prevent access via XSS and MIM.</li>
<li>pass a x-csrf-token in both your cookie and html as a way to confirm app access from same domain.</li>
</ul>
<h3 id="CORS-Cross-Origin-Resource-Sharing"><a href="#CORS-Cross-Origin-Resource-Sharing" class="headerlink" title="CORS - Cross Origin Resource Sharing"></a>CORS - Cross Origin Resource Sharing</h3><p>CORS is a utility that allows your app to access HTTP resources from other domains. By default it can only access them from the same domain with the exceptions of images and styles. Specifically accessing AJAX, fonts, ES-Modules from other domains requires CORS.</p>
<p>Danger: When CORS is configured incorectly can allow any domain to access your server this enables a rogue agent to attack from their domain. By configuring which domains can and cannot access we make our app much more secure.</p>
<p>Solution: Configure CORS correctly utilizing white-lists and black-lists to secure your site.</p>
<h2 id="Protection-Plan"><a href="#Protection-Plan" class="headerlink" title="Protection Plan"></a>Protection Plan</h2><p>TBD</p>

                
            </div>
        </article>
    
</div>
<div class="paginator">
    
        
        
        <a class="next" href="/page/2/">
            Next
            <i class="iconfont icon-next"></i>
        </a>
        
    
</div>

    </div>
</div>
<footer class="footer-social">
    
    <a class="social-link" target="_blank" href="https://github.com/dearfrankg">
        <i class="iconfont icon-github"></i>
    </a>
    

    

    

    <div class="footer-copyright">
        <p class="time-line">
            &copy;
            
            
            2018
            &nbsp;<i class="iconfont icon-heart"></i>&nbsp;
            <a target="_blank" href="https://github.com/dearfrankg">Frank Gutierrez</a>
        </p>
    </div>
</footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> -->
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    

</script>
</html>
