<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>dev notes</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <link rel="stylesheet" href="/css/font_859455_eaq7v6w8ktj.css">
</head>

<body>
<header class="header">
    <div class="header-inner">
        <div class="header-title">

        </div>
        <nav class="header-nav">
            
            <a href="/" class="header-nav-link">
                Home
            </a>
            

            
            <a href="/archives" class="header-nav-link">
                Archives
            </a>
            

            
            <a href="/tags" class="header-nav-link">
                Tags
            </a>
            

            
        </nav>
    </div>
</header>
<header class="mobile-header">
    <div class="mobile-nav">
        <div class="mobile-nav-icon">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="mobile-nav-title">
            <a href="/" class="mobile-nav-title-link">Frank Gutierrez's Blog</a>
        </div>

    </div>
    <nav class="mobile-menu">
        <ul class="mobile-menu-list">
            <li class="mobile-menu-item">
                <i class="iconfont icon-home"></i>
                <a href="/" class="mobile-nav-link">Home</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-archive"></i>
                <a href="/archives" class="mobile-nav-link">Archives</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-tag"></i>
                <a href="/tags" class="mobile-nav-link">Tags</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-about"></i>
                <a href="/about/" class="mobile-nav-link">About</a>
            </li>
        </ul>
    </nav>
</header>
<div class="main">
    <div class="content-inner">
        <div class="posts">
    
        <article class="post-abstract">
            <div class="post-title">
                <h2><a class="post-title-link" href="/2018/11/11/20181111-app-development-review/">app development review</a></h2>
            </div>
            <div class="post-meta">
                <span class="post-time">2018-11-11</span>
                
            </div>
            <div class="post-content">
                
                    <h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>We will create an app from scratch that will have the following characteristics:</p>
<ul>
<li>works with my domain</li>
<li>works with app hosted on laptop for development</li>
<li>works with app hosted by vendor for production</li>
<li>works with OAuth authentication</li>
<li>works with Google <code>YouTube Data API 3</code> Services</li>
</ul>
<h2 id="Setup-Test-Web-Server"><a href="#Setup-Test-Web-Server" class="headerlink" title="Setup Test Web Server"></a>Setup Test Web Server</h2><ul>
<li>start nginx on port 80<ul>
<li><code>sudo brew services start nginx</code></li>
</ul>
</li>
<li>test web server<ul>
<li><code>curl 127.0.0.1</code> –&gt; hello</li>
</ul>
</li>
</ul>
<h2 id="Setup-Your-Domain"><a href="#Setup-Your-Domain" class="headerlink" title="Setup Your Domain"></a>Setup Your Domain</h2><ul>
<li>Purchase Domain Name<ul>
<li><a href="https://domains.google.com/registrar" target="_blank" rel="noopener">https://domains.google.com/registrar</a></li>
<li>purchased a domain name for \$12</li>
</ul>
</li>
<li>Configue DNS<ul>
<li>Edit Name Servers<ul>
<li>Choose: <code>Use the Google Domains name servers</code></li>
</ul>
</li>
<li>Add custom resource records<ul>
<li><code>name: @, type: A, TTL: 1H, IP: xxx.xxx.xxx.xxx</code></li>
<li><code>name: *, type: A, TTL: 1H, IP: xxx.xxx.xxx.xxx</code></li>
</ul>
</li>
</ul>
</li>
<li>test dns – <code>ping dearfrankg.com</code> –&gt; …</li>
</ul>
<blockquote>
<p>Local IP Address<br>Do not use services like <code>myip</code> or <code>myip.com</code> to find your IP address. They’re not always up to date. Instead you can use your WAN IP address from you router.</p>
</blockquote>
<blockquote>
<p>DNS Propagation<br>Make sure you use the same DNS server IPs when configuring your domain and your local network. This insures propagation will not be an issue. Google DNS IPs are <code>8.8.8.8</code> and <code>8.8.4.4</code>.</p>
</blockquote>
<h2 id="Setup-Port-Forwarding"><a href="#Setup-Port-Forwarding" class="headerlink" title="Setup Port Forwarding"></a>Setup Port Forwarding</h2><p>When someone is trying to access you web server at your home, the request will be received by your modem then router. How will the router know which PC to forward the request to? That’s what port forwarding is for.</p>
<ul>
<li>configure router for port forwarding<ul>
<li><code>macbook-pro: incoming 80 to external 80</code></li>
</ul>
</li>
<li>test port fowarding<ul>
<li>curl <a href="http://dearfrankg.com" target="_blank" rel="noopener">http://dearfrankg.com</a> –&gt; hello</li>
<li>open <a href="http://dearfrankg.com" target="_blank" rel="noopener">http://dearfrankg.com</a> –&gt; hello</li>
</ul>
</li>
</ul>
<h2 id="Setup-Reverse-Poxy"><a href="#Setup-Reverse-Poxy" class="headerlink" title="Setup Reverse Poxy"></a>Setup Reverse Poxy</h2><p>Using port forwarding we would need to open many ports for many apps. That’s undesirable because it’s less secure. As an alternative we can setup a reverse proxy server to route different urls to different apps.</p>
<ul>
<li>setup nginx as a reverse proxy<ul>
<li>configure <code>top level domain</code> to <code>nginx server</code><ul>
<li><code>dearfrankg.com</code> to port 80 <code>nginx web server</code></li>
</ul>
</li>
<li>configure <code>sub domains</code> to <code>web apps</code><ul>
<li><code>app1.dearfrankg.com</code> to port 5000 <code>app1</code></li>
<li><code>app2.dearfrankg.com</code> to port 5001 <code>app2</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Reverse Proxy drawbacks:</p>
<ul>
<li>Bandwidth transfer will be doubled: <code>client &lt;-&gt; proxy &lt;-&gt; app</code></li>
<li>The traffic of all subdomains will pass through the proxy, so you might need more than one.</li>
<li>If the proxy and the webservers are hosted by different providers, latency will increase noticeably.</li>
<li>If the proxy is down, so are all connected subdomains, except if you have multiple load balanced proxies.</li>
</ul>
<h2 id="Setup-App"><a href="#Setup-App" class="headerlink" title="Setup App"></a>Setup App</h2><ul>
<li>setup app skeleton<ul>
<li><code>npx create-react-app my-great-app</code></li>
</ul>
</li>
<li>add <code>sass</code> support<ul>
<li>npm install –save node-sass</li>
</ul>
</li>
<li>add folders to <code>src</code> directory<ul>
<li>assets, components, services, utils</li>
</ul>
</li>
<li>reconfigure app to work with new structure<ul>
<li>create a new Header component</li>
</ul>
</li>
</ul>
<h3 id="Setup-OAuth-Auhentication"><a href="#Setup-OAuth-Auhentication" class="headerlink" title="Setup OAuth Auhentication"></a>Setup OAuth Auhentication</h3><p><strong>Get OAuth Credentials</strong></p>
<ul>
<li>create project at the <a href="https://console.developers.google.com/" target="_blank" rel="noopener">console.developers.google.com</a></li>
<li>create credentials and choose <code>API key</code><ul>
<li>store <code>YOUR_API_KEY</code> for later use.</li>
</ul>
</li>
<li>create credentials and choose <code>OAuth client ID</code><ul>
<li>choose application type: <code>web application</code></li>
<li>choose name: <code>proj-name</code></li>
<li>choose Authorized Javascript Origins: `<a href="http://localhost:5000" target="_blank" rel="noopener">http://localhost:5000</a></li>
<li>click create</li>
<li>store <code>CLIENT_ID</code> for later use.</li>
</ul>
</li>
<li>Enable YouTube Data API v3<ul>
<li>goto <a href="https://console.developers.google.com/apis/library" target="_blank" rel="noopener">API Library</a> and search for YouTube</li>
<li>Click on the <code>YouTube Data API v3</code>, then click <code>ENABLE</code></li>
</ul>
</li>
<li>Clear the last hour of cache<ul>
<li><code>cmd shift delete</code> then <code>choose last hour</code> and click delete.</li>
</ul>
</li>
</ul>
<h2 id="Setup-Continuous-Workflow"><a href="#Setup-Continuous-Workflow" class="headerlink" title="Setup Continuous Workflow"></a>Setup Continuous Workflow</h2><p><strong>Continuous Integration (CI)</strong>: short-lived feature branches, team is merging to master branch multiple times per day, fully automated build and test process which gives feedback within 10 minutes; deployment is manual.</p>
<p><strong>Continuous Delivery (CD)</strong>: CI + the entire software release process is automated, it may be composed of multiple stages, and deployment to production is manual.</p>
<p><strong>Continuous Deployment</strong>: CI + CD + fully automated deployment to production.</p>
<h2 id="Extraa"><a href="#Extraa" class="headerlink" title="Extraa"></a>Extraa</h2><ul>
<li>create a project directory</li>
<li>create this <a href="https://goo.gl/KcaXbh" target="_blank" rel="noopener">index.html</a> file<ul>
<li>be sure to insert the <code>API_KEY</code> and <code>CLIENT_ID</code></li>
</ul>
</li>
<li>install the <code>serve</code> package if not installed<ul>
<li><code>npm i -g serve</code></li>
</ul>
</li>
<li>start the server<ul>
<li><code>serve .</code></li>
</ul>
</li>
<li>login using your Google account<ul>
<li>open <a href="http://localhost:5000" target="_blank" rel="noopener">http://localhost:5000</a></li>
<li>click <code>sign in</code> button and approve access<ul>
<li>button should change to <code>sign out</code></li>
</ul>
</li>
<li>click <code>sign out</code> to logout<ul>
<li>button should change to <code>sign in</code></li>
</ul>
</li>
</ul>
</li>
</ul>

                
            </div>
        </article>
    
        <article class="post-abstract">
            <div class="post-title">
                <h2><a class="post-title-link" href="/2018/11/10/20181110-learning-nextjs/">learning nextjs</a></h2>
            </div>
            <div class="post-meta">
                <span class="post-time">2018-11-10</span>
                
            </div>
            <div class="post-content">
                
                    <h2 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h2><h3 id="the-hard-way"><a href="#the-hard-way" class="headerlink" title="the hard way"></a>the hard way</h3><ul>
<li>manually install the necessary packages</li>
<li>update scripts in package.json</li>
<li>add pages directory</li>
<li>start dev server</li>
</ul>
<h3 id="the-easy-way"><a href="#the-easy-way" class="headerlink" title="the easy way"></a>the easy way</h3><ul>
<li>review choices at <a href="https://goo.gl/8iZS8D" target="_blank" rel="noopener">Next.js examples</a></li>
<li>follow the install instuctions in the readme file.</li>
<li>start dev server</li>
</ul>
<p>typical install process:</p>
<pre><code>npx create-next-app --example with-apollo-and-redux with-apollo-and-redux-app
</code></pre><h2 id="Style-and-Design-Support"><a href="#Style-and-Design-Support" class="headerlink" title="Style and Design Support"></a>Style and Design Support</h2><h3 id="evergreen-ui-–-react-design-components"><a href="#evergreen-ui-–-react-design-components" class="headerlink" title="evergreen-ui – react design components"></a>evergreen-ui – react design components</h3><ul>
<li><a href="https://evergreen.segment.com/" target="_blank" rel="noopener">evergreen-ui</a></li>
</ul>
<p>install</p>
<pre><code>npm i --save evergeen-ui
</code></pre><p>setup</p>
<ul>
<li><a href="https://goo.gl/Kzgwbc" target="_blank" rel="noopener">pages/_document.js</a></li>
</ul>
<p>This allows control over the HTML page. In this case we will include the CSS and JS required to make <code>evergreen-ui</code> work with SSR.</p>
<p>styles</p>
<ul>
<li>Adds a style tag for including the CSS necessary to render evergreen-ui.</li>
<li>Adds a script tag which will include the CSS cache necessary for hydration.</li>
</ul>
<p>hydration</p>
<p>The act of providing state to the client is called <code>hydation</code>. In this case we will be supplying the CSS cache. The <code>CSS cache</code> is a JS object generated from scanning the <code>css-in-js</code> to extract style. The keys are generated hashes like <code>&#39;jdvhd&#39;</code>, and the values are the associated CSS string. Both the client and the server generate hashes but on the client it will leverage the cache if available.</p>
<h3 id="styled-components-–-a-popular-css-in-js-solution"><a href="#styled-components-–-a-popular-css-in-js-solution" class="headerlink" title="styled components – a popular css-in-js solution"></a>styled components – a popular css-in-js solution</h3><ul>
<li><a href="https://www.styled-components.com/" target="_blank" rel="noopener">styled components</a></li>
</ul>
<p>install</p>
<pre><code>npm i --save styled-components
</code></pre><p>setup</p>
<ul>
<li><a href="https://goo.gl/Vnh89f" target="_blank" rel="noopener">pages/_document.js</a></li>
<li><a href="https://goo.gl/Zrrdyp" target="_blank" rel="noopener">.babelrc</a></li>
</ul>
<blockquote>
<p><a href="https://goo.gl/aGL5Aa" target="_blank" rel="noopener">nesting rules</a></p>
</blockquote>
<h3 id="style-jsx-sass-–-a-popular-css-in-js-solution"><a href="#style-jsx-sass-–-a-popular-css-in-js-solution" class="headerlink" title="style-jsx-sass – a popular css-in-js solution"></a>style-jsx-sass – a popular css-in-js solution</h3><ul>
<li><a href="https://goo.gl/kKqcy8" target="_blank" rel="noopener">style-jsx-sass</a></li>
</ul>
<p>install</p>
<pre><code>npm i --save style-jsx-sass node-sass
</code></pre><p>setup</p>
<ul>
<li><a href="https://goo.gl/tN63HX" target="_blank" rel="noopener">.babelrc</a></li>
</ul>
<h2 id="Assets"><a href="#Assets" class="headerlink" title="Assets"></a>Assets</h2><h3 id="Fonts"><a href="#Fonts" class="headerlink" title="Fonts"></a>Fonts</h3><p>setup</p>
<ul>
<li><a href="https://goo.gl/m27w7V" target="_blank" rel="noopener">font-awesome</a> font</li>
<li><a href="https://goo.gl/4Fo67x" target="_blank" rel="noopener">Open Sans</a> font</li>
<li><a href="https://goo.gl/YFWoZA" target="_blank" rel="noopener">components/meta.js</a></li>
</ul>
<p>Edit the <code>meta</code> component file to include fonts.</p>
<h3 id="Images"><a href="#Images" class="headerlink" title="Images"></a>Images</h3><p>setup</p>
<ul>
<li><code>static</code> folder</li>
</ul>
<p>Add the <code>static</code> folder to serve static assets.</p>
<h2 id="Gotchas"><a href="#Gotchas" class="headerlink" title="Gotchas"></a>Gotchas</h2><h3 id="Browser-issue-with-CSS-Grid"><a href="#Browser-issue-with-CSS-Grid" class="headerlink" title="Browser issue with CSS-Grid"></a>Browser issue with CSS-Grid</h3><p>There is a gotcha using fractional units with grid-rows. To use fractional units <code>1fr</code> with grid-rows, you must specify the size of the container div. You cannot use a percentage for the size or it will not work. See example gist <a href="https://goo.gl/5sE6RU" target="_blank" rel="noopener">here</a></p>

                
            </div>
        </article>
    
        <article class="post-abstract">
            <div class="post-title">
                <h2><a class="post-title-link" href="/2018/11/06/20181105-react-storybook/">react storybook</a></h2>
            </div>
            <div class="post-meta">
                <span class="post-time">2018-11-06</span>
                
            </div>
            <div class="post-content">
                
                    <h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>Storybook is the most popular UI component development tool for React. It helps you develop and design UI components outside your app in an isolated environment.</p>
<p><a href="https://www.learnstorybook.com/" target="_blank" rel="noopener">Learn Storybook</a> aims to teach tried-and-true patterns for component development using Storybook. You’ll walk through essential UI component techniques while building a UI from scratch in React.</p>
<h2 id="Steps-Covered"><a href="#Steps-Covered" class="headerlink" title="Steps Covered"></a>Steps Covered</h2><ul>
<li>setup</li>
<li>simple component</li>
<li>composite component</li>
<li>data</li>
<li>screens</li>
<li>testing</li>
<li>addons</li>
<li>deploy</li>
<li>conclusions</li>
</ul>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a href="https://www.learnstorybook.com/" target="_blank" rel="noopener">Storybook Tutorial</a></li>
</ul>

                
            </div>
        </article>
    
</div>
<div class="paginator">
    
        
        
        <a class="next" href="/page/2/">
            Next
            <i class="iconfont icon-next"></i>
        </a>
        
    
</div>

    </div>
</div>
<footer class="footer-social">
    
    <a class="social-link" target="_blank" href="https://github.com/dearfrankg">
        <i class="iconfont icon-github"></i>
    </a>
    

    

    

    <div class="footer-copyright">
        <p class="time-line">
            &copy;
            
            
            2018
            &nbsp;<i class="iconfont icon-heart"></i>&nbsp;
            <a target="_blank" href="https://github.com/dearfrankg">Frank Gutierrez</a>
        </p>
    </div>
</footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> -->
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    

</script>
</html>
