<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>dev notes</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <link rel="stylesheet" href="/css/font_859455_eaq7v6w8ktj.css">
</head>

<body>
<header class="header">
    <div class="header-inner">
        <div class="header-title">

        </div>
        <nav class="header-nav">
            
            <a href="/" class="header-nav-link">
                Home
            </a>
            

            
            <a href="/archives" class="header-nav-link">
                Archives
            </a>
            

            
            <a href="/tags" class="header-nav-link">
                Tags
            </a>
            

            
        </nav>
    </div>
</header>
<header class="mobile-header">
    <div class="mobile-nav">
        <div class="mobile-nav-icon">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="mobile-nav-title">
            <a href="/" class="mobile-nav-title-link">Frank Gutierrez's Blog</a>
        </div>

    </div>
    <nav class="mobile-menu">
        <ul class="mobile-menu-list">
            <li class="mobile-menu-item">
                <i class="iconfont icon-home"></i>
                <a href="/" class="mobile-nav-link">Home</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-archive"></i>
                <a href="/archives" class="mobile-nav-link">Archives</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-tag"></i>
                <a href="/tags" class="mobile-nav-link">Tags</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-about"></i>
                <a href="/about/" class="mobile-nav-link">About</a>
            </li>
        </ul>
    </nav>
</header>
<div class="main">
    <div class="content-inner">
        <div class="posts">
    
        <article class="post-abstract">
            <div class="post-title">
                <h2><a class="post-title-link" href="/2018/11/11/20181111-app-development-review/">app development review</a></h2>
            </div>
            <div class="post-meta">
                <span class="post-time">2018-11-11</span>
                
            </div>
            <div class="post-content">
                
                    <h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>We will create an app from scratch that will have the following characteristics:</p>
<ul>
<li>works with my domain</li>
<li>works with app hosted on laptop for development</li>
<li>works with app hosted by vendor for production</li>
<li>works with OAuth authentication</li>
<li>works with Google <code>YouTube Data API 3</code> Services</li>
</ul>
<h2 id="Setup-Test-Web-Server"><a href="#Setup-Test-Web-Server" class="headerlink" title="Setup Test Web Server"></a>Setup Test Web Server</h2><ul>
<li>start nginx on port 80<ul>
<li><code>sudo brew services start nginx</code></li>
</ul>
</li>
<li>test web server<ul>
<li><code>curl 127.0.0.1</code> –&gt; hello</li>
</ul>
</li>
</ul>
<h2 id="Setup-Your-Domain"><a href="#Setup-Your-Domain" class="headerlink" title="Setup Your Domain"></a>Setup Your Domain</h2><ul>
<li>Purchase Domain Name<ul>
<li><a href="https://domains.google.com/registrar" target="_blank" rel="noopener">https://domains.google.com/registrar</a></li>
<li>purchased a domain name for \$12</li>
</ul>
</li>
<li>Configue DNS<ul>
<li>Edit Name Servers<ul>
<li>Choose: <code>Use the Google Domains name servers</code></li>
</ul>
</li>
<li>Add custom resource records<ul>
<li><code>name: @, type: A, TTL: 1H, IP: xxx.xxx.xxx.xxx</code></li>
<li><code>name: *, type: A, TTL: 1H, IP: xxx.xxx.xxx.xxx</code></li>
</ul>
</li>
</ul>
</li>
<li>test dns – <code>ping dearfrankg.com</code> –&gt; …</li>
</ul>
<blockquote>
<p>Local IP Address<br>Do not use services like <code>myip</code> or <code>myip.com</code> to find your IP address. They’re not always up to date. Instead you can use your WAN IP address from you router.</p>
</blockquote>
<blockquote>
<p>DNS Propagation<br>Make sure you use the same DNS server IPs when configuring your domain and your local network. This insures propagation will not be an issue. Google DNS IPs are <code>8.8.8.8</code> and <code>8.8.4.4</code>.</p>
</blockquote>
<h2 id="Setup-Port-Forwarding"><a href="#Setup-Port-Forwarding" class="headerlink" title="Setup Port Forwarding"></a>Setup Port Forwarding</h2><p>When someone is trying to access you web server at your home, the request will be received by your modem then router. How will the router know which PC to forward the request to? That’s what port forwarding is for.</p>
<ul>
<li>configure router for port forwarding<ul>
<li><code>macbook-pro: incoming 80 to external 80</code></li>
</ul>
</li>
<li>test port fowarding<ul>
<li>curl <a href="http://dearfrankg.com" target="_blank" rel="noopener">http://dearfrankg.com</a> –&gt; hello</li>
<li>open <a href="http://dearfrankg.com" target="_blank" rel="noopener">http://dearfrankg.com</a> –&gt; hello</li>
</ul>
</li>
</ul>
<h2 id="Setup-Reverse-Poxy"><a href="#Setup-Reverse-Poxy" class="headerlink" title="Setup Reverse Poxy"></a>Setup Reverse Poxy</h2><p>Using port forwarding we would need to open many ports for many apps. That’s undesirable because it’s less secure. As an alternative we can setup a reverse proxy server to route different urls to different apps.</p>
<ul>
<li>setup nginx as a reverse proxy<ul>
<li>configure <code>top level domain</code> to <code>nginx server</code><ul>
<li><code>dearfrankg.com</code> to port 80 <code>nginx web server</code></li>
</ul>
</li>
<li>configure <code>sub domains</code> to <code>web apps</code><ul>
<li><code>app1.dearfrankg.com</code> to port 5000 <code>app1</code></li>
<li><code>app2.dearfrankg.com</code> to port 5001 <code>app2</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Reverse Proxy drawbacks:</p>
<ul>
<li>Bandwidth transfer will be doubled: <code>client &lt;-&gt; proxy &lt;-&gt; app</code></li>
<li>The traffic of all subdomains will pass through the proxy, so you might need more than one.</li>
<li>If the proxy and the webservers are hosted by different providers, latency will increase noticeably.</li>
<li>If the proxy is down, so are all connected subdomains, except if you have multiple load balanced proxies.</li>
</ul>
<h2 id="Setup-App"><a href="#Setup-App" class="headerlink" title="Setup App"></a>Setup App</h2><ul>
<li>setup app skeleton<ul>
<li><code>npx create-react-app my-great-app</code></li>
</ul>
</li>
<li>add <code>sass</code> support<ul>
<li>npm install –save node-sass</li>
</ul>
</li>
<li>add folders to <code>src</code> directory<ul>
<li>assets, components, services, utils</li>
</ul>
</li>
<li>reconfigure app to work with new structure<ul>
<li>create a new Header component</li>
</ul>
</li>
</ul>
<h3 id="Setup-OAuth-Auhentication"><a href="#Setup-OAuth-Auhentication" class="headerlink" title="Setup OAuth Auhentication"></a>Setup OAuth Auhentication</h3><p><strong>Get OAuth Credentials</strong></p>
<ul>
<li>create project at the <a href="https://console.developers.google.com/" target="_blank" rel="noopener">console.developers.google.com</a></li>
<li>create credentials and choose <code>API key</code><ul>
<li>store <code>YOUR_API_KEY</code> for later use.</li>
</ul>
</li>
<li>create credentials and choose <code>OAuth client ID</code><ul>
<li>choose application type: <code>web application</code></li>
<li>choose name: <code>proj-name</code></li>
<li>choose Authorized Javascript Origins: `<a href="http://localhost:5000" target="_blank" rel="noopener">http://localhost:5000</a></li>
<li>click create</li>
<li>store <code>CLIENT_ID</code> for later use.</li>
</ul>
</li>
<li>Enable YouTube Data API v3<ul>
<li>goto <a href="https://console.developers.google.com/apis/library" target="_blank" rel="noopener">API Library</a> and search for YouTube</li>
<li>Click on the <code>YouTube Data API v3</code>, then click <code>ENABLE</code></li>
</ul>
</li>
<li>Clear the last hour of cache<ul>
<li><code>cmd shift delete</code> then <code>choose last hour</code> and click delete.</li>
</ul>
</li>
</ul>
<h3 id="TO-BE-CONTINUED"><a href="#TO-BE-CONTINUED" class="headerlink" title="TO BE CONTINUED"></a>TO BE CONTINUED</h3><p>…<br>…</p>
<h2 id="Setup-Continuous-Workflow"><a href="#Setup-Continuous-Workflow" class="headerlink" title="Setup Continuous Workflow"></a>Setup Continuous Workflow</h2><p><strong>Continuous Integration (CI)</strong>: short-lived feature branches, team is merging to master branch multiple times per day, fully automated build and test process which gives feedback within 10 minutes; deployment is manual.</p>
<p><strong>Continuous Delivery (CD)</strong>: CI + the entire software release process is automated, it may be composed of multiple stages, and deployment to production is manual.</p>
<p><strong>Continuous Deployment</strong>: CI + CD + fully automated deployment to production.</p>

                
            </div>
        </article>
    
        <article class="post-abstract">
            <div class="post-title">
                <h2><a class="post-title-link" href="/2018/11/10/20181110-intro-to-next-part2/">intro to next.js part2</a></h2>
            </div>
            <div class="post-meta">
                <span class="post-time">2018-11-10</span>
                
            </div>
            <div class="post-content">
                
                    <h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>This is the follow up to <a href="/2018/10/31/20181031-intro-to-next-part1/">Into to Next - Part1</a>. In Part2 we will cover how to communicate with the Github API.</p>
<h2 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h2><h3 id="the-hard-way"><a href="#the-hard-way" class="headerlink" title="the hard way"></a>the hard way</h3><ul>
<li>manually install the necessary packages</li>
<li>update scripts in package.json</li>
<li>add pages directory</li>
<li>start dev server</li>
</ul>
<h3 id="the-easy-way"><a href="#the-easy-way" class="headerlink" title="the easy way"></a>the easy way</h3><ul>
<li>review choices at <a href="https://goo.gl/8iZS8D" target="_blank" rel="noopener">Next.js examples</a></li>
<li>follow the install instuctions in the readme file.</li>
<li>start dev server</li>
</ul>
<p>our install process:</p>
<ul>
<li>install app skeleton<ul>
<li><code>npx create-next-app --example with-styled-jsx-scss with-styled-jsx-scss-app</code></li>
</ul>
</li>
<li>rename app folder<ul>
<li><code>mv with-styled-jsx-scss-app next-part2</code></li>
</ul>
</li>
<li>rename app<ul>
<li><code>cd next-part2</code></li>
<li><code>vi package.json</code> (change name)</li>
</ul>
</li>
<li>start server<ul>
<li><code>npm run dev</code></li>
</ul>
</li>
</ul>
<h2 id="Create-App-V1"><a href="#Create-App-V1" class="headerlink" title="Create App V1"></a>Create App V1</h2><p>Our objective with <code>app v1</code> is to pull some data from <code>github</code> and jazz it up a little with <code>bootstrap</code>.</p>
<p>Add the following files from <a href="https://goo.gl/LQZKyh" target="_blank" rel="noopener">app version 1</a></p>
<ul>
<li><strong>index.js</strong></li>
</ul>
<p>A Index functional component called <code>App</code> that renders <code>meta</code>, <code>heading</code> and <code>github-repos</code></p>
<ul>
<li><strong>Meta.js</strong></li>
</ul>
<p>A Meta functional component that lets you include things in the head of the rendered HTML. In our case we include a bootstrap CSS link.</p>
<ul>
<li><strong>GithubRepos</strong></li>
</ul>
<p>This file contains two components. This file leverages <code>bootstrap</code>.</p>
<ul>
<li><p>repo functional component</p>
<ul>
<li>for rendering a repo row in the table</li>
</ul>
</li>
<li><p>GithubRepos class based component</p>
<ul>
<li>for rendering the repos table</li>
<li>methods:<ul>
<li>constructor - setup state</li>
<li>componentDidMount - get data from github</li>
<li>renderLoading - render loading message</li>
<li>renderError - render error message</li>
<li>render - render github repos table</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://i.imgur.com/HJauiBi.png" alt="app version 1"></p>
<h2 id="Create-App-Version-2"><a href="#Create-App-Version-2" class="headerlink" title="Create App Version 2"></a>Create App Version 2</h2><p>Our objective with <code>app v2</code> is to pull some data from <code>github</code> and jazz it up a little with <code>evergreen-ui</code>. Additionally we will leverage the <code>evergreen-ui table component</code> to provide search capability.</p>
<p>Add the following files from <a href="https://goo.gl/EAZW19" target="_blank" rel="noopener">app version 2</a></p>
<ul>
<li><strong>index.js</strong></li>
</ul>
<p>A Index functional component called <code>App</code> that renders <code>heading</code> and <code>github-repos</code>. This file leverages <code>evergreen-ui</code>.</p>
<ul>
<li><strong>GithubRepos</strong></li>
</ul>
<p>This file contains two components. This file leverages <code>evergreen-ui</code>.</p>
<ul>
<li><p>repo functional component</p>
<ul>
<li>for rendering a repo row in the table with a filter</li>
</ul>
</li>
<li><p>GithubRepos class based component</p>
<ul>
<li>for rendering the repos table</li>
<li>methods:<ul>
<li>constructor - setup state</li>
<li>componentDidMount - get data from github</li>
<li>renderLoading - render loading message</li>
<li>renderError - render error message</li>
<li>render - render github repos table</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://i.imgur.com/auyvFa9.png" alt="app version 2"></p>
<h2 id="Using-Mock-Data"><a href="#Using-Mock-Data" class="headerlink" title="Using Mock Data"></a>Using Mock Data</h2><p>Sometimes you run into a situation where the backend is down. When this happens often the developer will turn to a mock data solution. In this case we’ll use a package called <code>json-server</code></p>
<ul>
<li>install json-server<ul>
<li><code>npm i --save-dev json-server</code></li>
</ul>
</li>
<li>create files/folders required by json-server<ul>
<li><code>mkdir mock</code></li>
<li><code>touch mock/data.json</code></li>
<li><code>touch mock/config.json</code></li>
</ul>
</li>
</ul>
<h3 id="Populate-the-following-files-from-here"><a href="#Populate-the-following-files-from-here" class="headerlink" title="Populate the following files from here"></a>Populate the following files from <a href="https://goo.gl/vPqQ9W" target="_blank" rel="noopener">here</a></h3><ul>
<li><code>mock/data.json</code> – see image below</li>
<li><code>mock/config.json</code> – with mock server url</li>
<li><code>server.js</code> – server code</li>
<li><code>package.json</code> – add script to start mock server</li>
<li><code>components/GithubRepos.js</code> - slight mod</li>
</ul>
<p>Here we will copy the data that github is feeding us and place it into the <code>mock/data.json</code> file.</p>
<p><img src="https://i.imgur.com/VMIam5b.png" alt="mock data"></p>
<p>We’ll have to remove the first two lines of the data.</p>
<ul>
<li>total_count</li>
<li>incomplete_results</li>
</ul>
<h3 id="Try-the-mock-server"><a href="#Try-the-mock-server" class="headerlink" title="Try the mock server"></a>Try the mock server</h3><ul>
<li>start the client in terminal1<ul>
<li><code>npm run dev</code></li>
</ul>
</li>
<li>start the mock server in terminal2<ul>
<li><code>npm run mock</code></li>
</ul>
</li>
<li>Success is seeing data being populated</li>
<li>To disable the mock server<ul>
<li>Enter an empty MOCK_URL in <code>mock/config.json</code></li>
</ul>
</li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Here’s what we learned:</p>
<ul>
<li>How to automatically install a skeleton app from <a href="https://goo.gl/8iZS8D" target="_blank" rel="noopener">Next.js examples</a></li>
<li>How to add a <code>Meta</code> component to include CSS assets like <code>bootstrap.css</code>.</li>
<li>How to use <code>axios</code> to access the <code>github API</code></li>
<li>How to use the <code>evergreen-ui</code> components <code>Pane</code>, <code>Spinner</code> and <code>Table</code></li>
<li>How to create a <code>mock server</code> so we can continue developing when our API is down.</li>
</ul>

                
            </div>
        </article>
    
        <article class="post-abstract">
            <div class="post-title">
                <h2><a class="post-title-link" href="/2018/11/06/20181105-react-storybook/">react storybook</a></h2>
            </div>
            <div class="post-meta">
                <span class="post-time">2018-11-06</span>
                
            </div>
            <div class="post-content">
                
                    <h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>Storybook is the most popular UI component development tool for React. It helps you develop and design UI components outside your app in an isolated environment.</p>
<p><a href="https://www.learnstorybook.com/" target="_blank" rel="noopener">Learn Storybook</a> aims to teach tried-and-true patterns for component development using Storybook. You’ll walk through essential UI component techniques while building a UI from scratch in React.</p>
<h2 id="Steps-Covered"><a href="#Steps-Covered" class="headerlink" title="Steps Covered"></a>Steps Covered</h2><ul>
<li>setup</li>
<li>simple component</li>
<li>composite component</li>
<li>data</li>
<li>screens</li>
<li>testing</li>
<li>addons</li>
<li>deploy</li>
<li>conclusions</li>
</ul>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a href="https://www.learnstorybook.com/" target="_blank" rel="noopener">Storybook Tutorial</a></li>
</ul>

                
            </div>
        </article>
    
</div>
<div class="paginator">
    
        
        
        <a class="next" href="/page/2/">
            Next
            <i class="iconfont icon-next"></i>
        </a>
        
    
</div>

    </div>
</div>
<footer class="footer-social">
    
    <a class="social-link" target="_blank" href="https://github.com/dearfrankg">
        <i class="iconfont icon-github"></i>
    </a>
    

    

    

    <div class="footer-copyright">
        <p class="time-line">
            &copy;
            
            
            2018
            &nbsp;<i class="iconfont icon-heart"></i>&nbsp;
            <a target="_blank" href="https://github.com/dearfrankg">Frank Gutierrez</a>
        </p>
    </div>
</footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> -->
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    

</script>
</html>
