<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>dev notes</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <link rel="stylesheet" href="/css/font_859455_eaq7v6w8ktj.css">
</head>

<body>
<header class="header">
    <div class="header-inner">
        <div class="header-title">

        </div>
        <nav class="header-nav">
            
            <a href="/" class="header-nav-link">
                Home
            </a>
            

            
            <a href="/archives" class="header-nav-link">
                Archives
            </a>
            

            
            <a href="/tags" class="header-nav-link">
                Tags
            </a>
            

            
        </nav>
    </div>
</header>
<header class="mobile-header">
    <div class="mobile-nav">
        <div class="mobile-nav-icon">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="mobile-nav-title">
            <a href="/" class="mobile-nav-title-link">Frank Gutierrez's Blog</a>
        </div>

    </div>
    <nav class="mobile-menu">
        <ul class="mobile-menu-list">
            <li class="mobile-menu-item">
                <i class="iconfont icon-home"></i>
                <a href="/" class="mobile-nav-link">Home</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-archive"></i>
                <a href="/archives" class="mobile-nav-link">Archives</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-tag"></i>
                <a href="/tags" class="mobile-nav-link">Tags</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-about"></i>
                <a href="/about/" class="mobile-nav-link">About</a>
            </li>
        </ul>
    </nav>
</header>
<div class="main">
    <div class="content-inner">
        <div class="posts">
    <article class="post-whole">
        <div class="post-title">
            <h2 class="title">intro to next.js part2</h2>
            <div class="post-meta">
                <span class="post-time">2018-11-10</span>
                
                <span class="post-visit"> visited：<span id="busuanzi_value_page_pv"></span></span>
            </div>
        </div>
        <div class="post-toc" id="post-toc">
    <strong class="post-toc-title">TOC</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Intro"><span class="toc-text">Intro</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Getting-Started"><span class="toc-text">Getting Started</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#the-hard-way"><span class="toc-text">the hard way</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#the-easy-way"><span class="toc-text">the easy way</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Create-App-V1"><span class="toc-text">Create App V1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Create-App-Version-2"><span class="toc-text">Create App Version 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-Mock-Data"><span class="toc-text">Using Mock Data</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Populate-the-following-files-from-here"><span class="toc-text">Populate the following files from here</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Try-the-mock-server"><span class="toc-text">Try the mock server</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-text">Conclusion</span></a></li></ol>
    <div class="back-to-top" id="back-to-top">
        <a href="javascript:void(0);">back to top</a>
    </div>
</div>

        <div class="post-content">
            <h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>This is the follow up to <a href="/2018/10/31/20181031-intro-to-next-part1/">Intro to Next - Part1</a>. In Part2 we will cover how to communicate with the Github API.</p>
<h2 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h2><h3 id="the-hard-way"><a href="#the-hard-way" class="headerlink" title="the hard way"></a>the hard way</h3><ul>
<li>manually install the necessary packages</li>
<li>update scripts in package.json</li>
<li>add pages directory</li>
<li>start dev server</li>
</ul>
<h3 id="the-easy-way"><a href="#the-easy-way" class="headerlink" title="the easy way"></a>the easy way</h3><ul>
<li>review choices at <a href="https://goo.gl/8iZS8D" target="_blank" rel="noopener">Next.js examples</a></li>
<li>follow the install instuctions in the readme file.</li>
<li>start dev server</li>
</ul>
<p>our install process:</p>
<ul>
<li>install app skeleton<ul>
<li><code>npx create-next-app --example with-styled-jsx-scss with-styled-jsx-scss-app</code></li>
</ul>
</li>
<li>rename app folder<ul>
<li><code>mv with-styled-jsx-scss-app next-part2</code></li>
</ul>
</li>
<li>rename app<ul>
<li><code>cd next-part2</code></li>
<li><code>vi package.json</code> (change name)</li>
</ul>
</li>
<li>start server<ul>
<li><code>npm run dev</code></li>
</ul>
</li>
</ul>
<h2 id="Create-App-V1"><a href="#Create-App-V1" class="headerlink" title="Create App V1"></a>Create App V1</h2><p>Our objective with <code>app v1</code> is to pull some data from <code>github</code> and jazz it up a little with <code>bootstrap</code>.</p>
<p>Add the following files from <a href="https://goo.gl/LQZKyh" target="_blank" rel="noopener">app version 1</a></p>
<ul>
<li><strong>index.js</strong></li>
</ul>
<p>A Index functional component called <code>App</code> that renders <code>meta</code>, <code>heading</code> and <code>github-repos</code></p>
<ul>
<li><strong>Meta.js</strong></li>
</ul>
<p>A Meta functional component that lets you include things in the head of the rendered HTML. In our case we include a bootstrap CSS link.</p>
<ul>
<li><strong>GithubRepos</strong></li>
</ul>
<p>This file contains two components. This file leverages <code>bootstrap</code>.</p>
<ul>
<li><p>repo functional component</p>
<ul>
<li>for rendering a repo row in the table</li>
</ul>
</li>
<li><p>GithubRepos class based component</p>
<ul>
<li>for rendering the repos table</li>
<li>methods:<ul>
<li>constructor - setup state</li>
<li>componentDidMount - get data from github</li>
<li>renderLoading - render loading message</li>
<li>renderError - render error message</li>
<li>render - render github repos table</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://i.imgur.com/HJauiBi.png" alt="app version 1"></p>
<h2 id="Create-App-Version-2"><a href="#Create-App-Version-2" class="headerlink" title="Create App Version 2"></a>Create App Version 2</h2><p>Our objective with <code>app v2</code> is to pull some data from <code>github</code> and jazz it up a little with <code>evergreen-ui</code>. Additionally we will leverage the <code>evergreen-ui table component</code> to provide search capability.</p>
<p>Add the following files from <a href="https://goo.gl/EAZW19" target="_blank" rel="noopener">app version 2</a></p>
<ul>
<li><strong>index.js</strong></li>
</ul>
<p>A Index functional component called <code>App</code> that renders <code>heading</code> and <code>github-repos</code>. This file leverages <code>evergreen-ui</code>.</p>
<ul>
<li><strong>GithubRepos</strong></li>
</ul>
<p>This file contains two components. This file leverages <code>evergreen-ui</code>.</p>
<ul>
<li><p>repo functional component</p>
<ul>
<li>for rendering a repo row in the table with a filter</li>
</ul>
</li>
<li><p>GithubRepos class based component</p>
<ul>
<li>for rendering the repos table</li>
<li>methods:<ul>
<li>constructor - setup state</li>
<li>componentDidMount - get data from github</li>
<li>renderLoading - render loading message</li>
<li>renderError - render error message</li>
<li>render - render github repos table</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://i.imgur.com/auyvFa9.png" alt="app version 2"></p>
<h2 id="Using-Mock-Data"><a href="#Using-Mock-Data" class="headerlink" title="Using Mock Data"></a>Using Mock Data</h2><p>Sometimes you run into a situation where the backend is down. When this happens often the developer will turn to a mock data solution. In this case we’ll use a package called <code>json-server</code></p>
<ul>
<li>install json-server<ul>
<li><code>npm i --save-dev json-server</code></li>
</ul>
</li>
<li>create files/folders required by json-server<ul>
<li><code>mkdir mock</code></li>
<li><code>touch mock/data.json</code></li>
<li><code>touch mock/config.json</code></li>
</ul>
</li>
</ul>
<h3 id="Populate-the-following-files-from-here"><a href="#Populate-the-following-files-from-here" class="headerlink" title="Populate the following files from here"></a>Populate the following files from <a href="https://goo.gl/vPqQ9W" target="_blank" rel="noopener">here</a></h3><ul>
<li><code>mock/data.json</code> – see image below</li>
<li><code>mock/config.json</code> – with mock server url</li>
<li><code>server.js</code> – server code</li>
<li><code>package.json</code> – add script to start mock server</li>
<li><code>components/GithubRepos.js</code> - slight mod</li>
</ul>
<p>Here we will copy the data that github is feeding us and place it into the <code>mock/data.json</code> file.</p>
<p><img src="https://i.imgur.com/VMIam5b.png" alt="mock data"></p>
<p>We’ll have to remove the first two lines of the data.</p>
<ul>
<li>total_count</li>
<li>incomplete_results</li>
</ul>
<h3 id="Try-the-mock-server"><a href="#Try-the-mock-server" class="headerlink" title="Try the mock server"></a>Try the mock server</h3><ul>
<li>start the client in terminal1<ul>
<li><code>npm run dev</code></li>
</ul>
</li>
<li>start the mock server in terminal2<ul>
<li><code>npm run mock</code></li>
</ul>
</li>
<li>Success is seeing data being populated</li>
<li>To disable the mock server<ul>
<li>Enter an empty MOCK_URL in <code>mock/config.json</code></li>
</ul>
</li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Here’s what we learned:</p>
<ul>
<li>How to automatically install a skeleton app from <a href="https://goo.gl/8iZS8D" target="_blank" rel="noopener">Next.js examples</a></li>
<li>How to add a <code>Meta</code> component to include CSS assets like <code>bootstrap.css</code>.</li>
<li>How to use <code>axios</code> to access the <code>github API</code></li>
<li>How to use the <code>evergreen-ui</code> components <code>Pane</code>, <code>Spinner</code> and <code>Table</code></li>
<li>How to create a <code>mock server</code> so we can continue developing when our API is down.</li>
</ul>

        </div>
        
        <div class="post-tag">
            
            <a class="tag" href="/tags/nextjs/" title="nextjs">nextjs</a>
            
            <a class="tag" href="/tags/framework/" title="framework">framework</a>
            
        </div>
        
    </article>
</div>
<div class="paginator">
    
        
            <a class="prev" href="/2018/11/11/20181111-app-development-review/">
                <i class="iconfont icon-prev"></i>
                <span class="nav-default">app development review</span>
                <span class="nav-mobile">Prev</span>
            </a>
        
        
            <a class="next" href="/2018/11/06/20181105-react-storybook/">
                <span class="nav-default">react storybook</span>
                <span class="nav-mobile">Next</span>
                <i class="iconfont icon-next"></i>
            </a>
        
    
</div>
<div id="comment-container"></div>
    </div>
</div>
<footer class="footer-social">
    
    <a class="social-link" target="_blank" href="https://github.com/dearfrankg">
        <i class="iconfont icon-github"></i>
    </a>
    

    

    

    <div class="footer-copyright">
        <p class="time-line">
            &copy;
            
            
            2018
            &nbsp;<i class="iconfont icon-heart"></i>&nbsp;
            <a target="_blank" href="https://github.com/dearfrankg">Frank Gutierrez</a>
        </p>
    </div>
</footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> -->
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    

</script>
</html>
