<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>dev notes</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <link rel="stylesheet" href="/css/font_859455_eaq7v6w8ktj.css">
</head>

<body>
<header class="header">
    <div class="header-inner">
        <div class="header-title">

        </div>
        <nav class="header-nav">
            
            <a href="/" class="header-nav-link">
                Home
            </a>
            

            
            <a href="/archives" class="header-nav-link">
                Archives
            </a>
            

            
            <a href="/tags" class="header-nav-link">
                Tags
            </a>
            

            
        </nav>
    </div>
</header>
<header class="mobile-header">
    <div class="mobile-nav">
        <div class="mobile-nav-icon">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="mobile-nav-title">
            <a href="/" class="mobile-nav-title-link">Frank Gutierrez's Blog</a>
        </div>

    </div>
    <nav class="mobile-menu">
        <ul class="mobile-menu-list">
            <li class="mobile-menu-item">
                <i class="iconfont icon-home"></i>
                <a href="/" class="mobile-nav-link">Home</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-archive"></i>
                <a href="/archives" class="mobile-nav-link">Archives</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-tag"></i>
                <a href="/tags" class="mobile-nav-link">Tags</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-about"></i>
                <a href="/about/" class="mobile-nav-link">About</a>
            </li>
        </ul>
    </nav>
</header>
<div class="main">
    <div class="content-inner">
        <div class="posts">
    
        <article class="post-abstract">
            <div class="post-title">
                <h2><a class="post-title-link" href="/2017/02/11/2017/20170211-react-testing/">react testing with contracts</a></h2>
            </div>
            <div class="post-meta">
                <span class="post-time">2017-02-11</span>
                
            </div>
            <div class="post-content">
                
                    <h3 id="TO-BE-DEPRECATED-AFTER-I-PULL-OUT-THE-GEMS"><a href="#TO-BE-DEPRECATED-AFTER-I-PULL-OUT-THE-GEMS" class="headerlink" title="TO BE DEPRECATED AFTER I PULL OUT THE GEMS"></a>TO BE DEPRECATED AFTER I PULL OUT THE GEMS</h3><h3 id="TO-BE-DEPRECATED-AFTER-I-PULL-OUT-THE-GEMS-1"><a href="#TO-BE-DEPRECATED-AFTER-I-PULL-OUT-THE-GEMS-1" class="headerlink" title="TO BE DEPRECATED AFTER I PULL OUT THE GEMS"></a>TO BE DEPRECATED AFTER I PULL OUT THE GEMS</h3><h3 id="TO-BE-DEPRECATED-AFTER-I-PULL-OUT-THE-GEMS-2"><a href="#TO-BE-DEPRECATED-AFTER-I-PULL-OUT-THE-GEMS-2" class="headerlink" title="TO BE DEPRECATED AFTER I PULL OUT THE GEMS"></a>TO BE DEPRECATED AFTER I PULL OUT THE GEMS</h3><h3 id="TO-BE-DEPRECATED-AFTER-I-PULL-OUT-THE-GEMS-3"><a href="#TO-BE-DEPRECATED-AFTER-I-PULL-OUT-THE-GEMS-3" class="headerlink" title="TO BE DEPRECATED AFTER I PULL OUT THE GEMS"></a>TO BE DEPRECATED AFTER I PULL OUT THE GEMS</h3><h2 id="React-Testing-Explained"><a href="#React-Testing-Explained" class="headerlink" title="React Testing Explained"></a>React Testing Explained</h2><p>Here are the <code>App</code> and <code>LockScreen</code> components.</p>
<figure class="highlight js"><figcaption><span>App</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> LockScreen <span class="keyword">from</span> <span class="string">'./LockScreen'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;LockScreen</span><br><span class="line">        wallpaperPath=<span class="string">'react_wallpaper.png'</span></span><br><span class="line">        userInfoMessage=<span class="string">'This is Tim'</span>s phone. If found, please give it back to him. He will be sad without it<span class="string">'</span></span><br><span class="line"><span class="string">        onUnlocked=&#123;() =&gt; alert('</span>unlocked!<span class="string">')&#125;</span></span><br><span class="line"><span class="string">      /&gt;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><figcaption><span>LockScreen</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; PropTypes &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> ClockDisplay <span class="keyword">from</span> <span class="string">'./ClockDisplay'</span></span><br><span class="line"><span class="keyword">import</span> TopOverlay <span class="keyword">from</span> <span class="string">'./TopOverlay'</span></span><br><span class="line"><span class="keyword">import</span> SlideToUnlock <span class="keyword">from</span> <span class="string">'./SlideToUnlock'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">LockScreen</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">    wallpaperPath: PropTypes.string,</span><br><span class="line">    userInfoMessage: PropTypes.string,</span><br><span class="line">    onUnlocked: PropTypes.func,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;</span><br><span class="line">      wallpaperPath,</span><br><span class="line">      userInfoMessage,</span><br><span class="line">      onUnlocked,</span><br><span class="line">    &#125; = <span class="keyword">this</span>.props</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div</span><br><span class="line">        style=&#123;&#123;</span><br><span class="line">          height: <span class="string">'100%'</span>,</span><br><span class="line">          display: <span class="string">'flex'</span>,</span><br><span class="line">          justifyContent: <span class="string">'space-between'</span>,</span><br><span class="line">          flexDirection: <span class="string">'column'</span>,</span><br><span class="line">          backgroundImage: wallpaperPath ? <span class="string">`url(<span class="subst">$&#123;wallpaperPath&#125;</span>)`</span> : <span class="string">',</span></span><br><span class="line"><span class="string">          backgroundColor: '</span>black<span class="string">',</span></span><br><span class="line"><span class="string">          backgroundPosition: '</span>center<span class="string">',</span></span><br><span class="line"><span class="string">          backgroundSize: '</span>cover<span class="string">',</span></span><br><span class="line"><span class="string">        &#125;&#125;</span></span><br><span class="line"><span class="string">      &gt;</span></span><br><span class="line"><span class="string">        &lt;ClockDisplay /&gt;</span></span><br><span class="line"><span class="string">        &#123;userInfoMessage ? (</span></span><br><span class="line"><span class="string">          &lt;TopOverlay</span></span><br><span class="line"><span class="string">            style=&#123;&#123;</span></span><br><span class="line"><span class="string">              padding: '</span><span class="number">2</span>em<span class="string">',</span></span><br><span class="line"><span class="string">              marginBottom: '</span>auto<span class="string">',</span></span><br><span class="line"><span class="string">            &#125;&#125;</span></span><br><span class="line"><span class="string">          &gt;</span></span><br><span class="line"><span class="string">            &#123;userInfoMessage&#125;</span></span><br><span class="line"><span class="string">          &lt;/TopOverlay&gt;</span></span><br><span class="line"><span class="string">        ) : null&#125;</span></span><br><span class="line"><span class="string">        &lt;SlideToUnlock onSlide=&#123;onUnlocked&#125; /&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="Contracts"><a href="#Contracts" class="headerlink" title="Contracts"></a>Contracts</h2><p> A contract defines the expected behavior of your component and what assumptions are reasonable to have about its usage. Without a clear contract, your component may be hard to understand. Writing tests is a great way to formally define your component’s contract.</p>
<p> Things that are commonly part of a contract:</p>
<ul>
<li>what it renders</li>
<li>props</li>
<li>state</li>
<li>UI interaction</li>
</ul>
<p>Things that are uncommonly part of a contract:</p>
<ul>
<li>the context the component is rendered in</li>
<li>how instance methods affect the component</li>
<li>side effects of the component lifecycle</li>
</ul>
<h3 id="Discovering-your-components-contract"><a href="#Discovering-your-components-contract" class="headerlink" title="Discovering your components contract"></a>Discovering your components contract</h3><p>To find your component’s contract, ask yourself questions like:</p>
<ul>
<li>What does my component render?</li>
<li>Does my component render different things under different circumstances?</li>
<li>When I pass a function as a prop, what does my component use it for? Does it call it, or just give it to another component? If it calls it, what does it call it with?</li>
<li>When the user interacts with my component, what happens?</li>
</ul>
<h3 id="Finding-the-LockScreen’s-contract"><a href="#Finding-the-LockScreen’s-contract" class="headerlink" title="Finding the LockScreen’s contract"></a>Finding the LockScreen’s contract</h3><p>By examining our constraints and putting them to scrutiny, we broke many of them down into multiple, smaller constraints. This is great! This will make it easier to write our test code.</p>
<ul>
<li>should render the container div</li>
<li>should contain everything else when rendering the container div</li>
<li>should render the container div with certain styles</li>
<li>should assign wallpaperPath to container-div background-image when wallpaperPath prop is defined</li>
<li>should render Clock</li>
<li>should not pass props to Clock when rendering Clock</li>
<li>should render TopOverlay when the userInfoMessage prop is defined</li>
<li>should pass userInfoMessage as children to TopOverlay when the userInfoMessage prop is defined</li>
<li>should render TopOverlay with certain styles when the userInfoMessage prop is defined</li>
<li>should not render TopOverlay when userInfoMessage prop is undefined</li>
<li>should render SlideToUnlock</li>
<li>should assign onUnlocked to SlideToUnlock onSlide prop when onUnlocked prop is defined</li>
<li>should assign onUnlocked to SlideToUnlock onSlide prop when onUnlocked prop is undefined</li>
<li>should optionally receive a wallpaperPath as a string</li>
<li>should optionally receive a userInfoMessage as a string</li>
<li>should optionally receive a onUnlocked as a function</li>
</ul>
<p>This is a good starting point for our component contract. There may be more constraints within this component’s contract, and in production code you will want to find as many as you can, but for the purposes of this example, let’s just work with these. You can always add tests later if you discover additional constraints.</p>
<h3 id="What’s-Worth-Testing"><a href="#What’s-Worth-Testing" class="headerlink" title="What’s Worth Testing?"></a>What’s Worth Testing?</h3><p>Some of these constraints are worth testing, and others are not.</p>
<h4 id="Rules-of-Thumb-that-determine-if-something-is-not-worth-testing"><a href="#Rules-of-Thumb-that-determine-if-something-is-not-worth-testing" class="headerlink" title="Rules of Thumb that determine if something is not_worth_testing:"></a>Rules of Thumb that determine if something is not_worth_testing:</h4><ul>
<li>duplicates app code? This makes it brittle.</li>
<li>duplicates library code?</li>
<li>is this an internal concern?  Can it be affected by only the public api?</li>
</ul>
<p>These are only rules of thumb, so be careful not to use them to justify not testing something just because it’s hard. <strong>Often, things that seem hard to test are the most important to test</strong>, because the code under test is making many assumptions about the rest of the application.</p>
<p>Let’s find out which tests we can eliminate with our rules:</p>
<ul>
<li>Eliminate <code>prop tests</code> because it duplicates app code<br>it is already covered in React’s PropTypes system.</li>
<li>Eliminate <code>certain styles test</code> because it duplicates app code making it brittle<br>changing styles in the app would require same changes in tests</li>
</ul>
<p>Here’s what we’re left with:</p>
<ul>
<li>should render the container div</li>
<li>should contain everything else when rendering the container div</li>
<li>should assign wallpaperPath to container-div background-image when wallpaperPath prop is defined</li>
<li>should render Clock</li>
<li>should not pass props to Clock when rendering Clock</li>
<li>should render TopOverlay when the userInfoMessage prop is defined</li>
<li>should pass userInfoMessage as children to TopOverlay when the userInfoMessage prop is defined</li>
<li>should not render TopOverlay when userInfoMessage prop is undefined</li>
<li>should render SlideToUnlock</li>
<li>should assign onUnlocked to SlideToUnlock onSlide prop when onUnlocked prop is defined</li>
<li>should assign onUnlocked to SlideToUnlock onSlide prop when onUnlocked prop is undefined</li>
</ul>
<h2 id="Setting-Up-Some-Test-Boilerplate"><a href="#Setting-Up-Some-Test-Boilerplate" class="headerlink" title="Setting Up Some Test Boilerplate"></a>Setting Up Some Test Boilerplate</h2><p>Let’s start scaffolding out a test for this component. I will be using <code>Jest</code> with <code>enzyme</code> in my tests. Jest works great with React and is also the test runner included in apps created with <code>create-react-app</code>, so you may already be set up to use it. Enzyme is a mature React testing library that works in both node and the browser.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; mount &#125; <span class="keyword">from</span> <span class="string">'enzyme'</span></span><br><span class="line"><span class="keyword">import</span> LockScreen <span class="keyword">from</span> <span class="string">'./LockScreen'</span></span><br><span class="line"></span><br><span class="line">describe(<span class="string">'LockScreen'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> props</span><br><span class="line">  <span class="keyword">let</span> mountedLockScreen</span><br><span class="line">  <span class="keyword">const</span> lockScreen = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!mountedLockScreen) &#123;</span><br><span class="line">      mountedLockScreen = mount(</span><br><span class="line">        &lt;LockScreen &#123;...props&#125; /&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mountedLockScreen</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    props = &#123;</span><br><span class="line">      wallpaperPath: <span class="literal">undefined</span>,</span><br><span class="line">      userInfoMessage: <span class="literal">undefined</span>,</span><br><span class="line">      onUnlocked: <span class="literal">undefined</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    mountedLockScreen = <span class="literal">undefined</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// All tests will go here</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="Writing-the-Tests"><a href="#Writing-the-Tests" class="headerlink" title="Writing the Tests!"></a>Writing the Tests!</h3><h4 id="conditional-tests"><a href="#conditional-tests" class="headerlink" title="conditional tests"></a>conditional tests</h4><p>When the test has words in it like <code>if</code> or <code>when</code> that is an indicator of a conditional test. When we need to describe behavior that only occurs within a certain condition, we can describe that condition, and then use beforeEach within that describe to set that condition up.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">"when userInfoMessage prop exists"</span>, () =&gt; &#123;</span><br><span class="line">  beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    props.userInfoMessage = <span class="string">"This is my favorite phone!"</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  it(<span class="string">"should render TopOverlay"</span>, () =&gt; &#123;</span><br><span class="line">    expect(lockScreen().find(TopOverlay).length).toBe(<span class="number">1</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  it(<span class="string">"should pass userInfoMessage as children to TopOverlay"</span>, () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> topOverlay = lockScreen().find(TopOverlay)</span><br><span class="line">    expect(topOverlay.props().children).toBe(props.userInfoMessage)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>This will leave our test outline looking like this:</p>
<ul>
<li>should render the container div</li>
<li>when rendering the container div<ul>
<li>should contain everything else</li>
</ul>
</li>
<li>when wallpaperPath prop is defined<ul>
<li>should assign wallpaperPath to container-div background-image</li>
</ul>
</li>
<li>should render Clock</li>
<li>when rendering Clock<ul>
<li>should not pass props to Clock</li>
</ul>
</li>
<li>when the userInfoMessage prop is defined<ul>
<li>should render TopOverlay</li>
<li>should pass userInfoMessage as children to TopOverlay</li>
</ul>
</li>
<li>when userInfoMessage prop is undefined<ul>
<li>should not render TopOverlay</li>
</ul>
</li>
<li>should render SlideToUnlock</li>
<li>when onUnlocked prop is defined<ul>
<li>should assign onUnlocked to SlideToUnlock onSlide prop</li>
</ul>
</li>
<li>when onUnlocked prop is undefined<ul>
<li>should assign onUnlocked to SlideToUnlock onSlide prop</li>
</ul>
</li>
</ul>
<h4 id="final-test-file"><a href="#final-test-file" class="headerlink" title="final test file"></a>final test file</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">it(<span class="string">'should render the container div'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> divs = lockScreen().find(<span class="string">'div'</span>)</span><br><span class="line">  expect(divs.length).toBeGreaterThan(<span class="number">0</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">describe(<span class="string">"when rendering the container div"</span>, () =&gt; &#123;</span><br><span class="line">  it(<span class="string">"contains everything else that gets rendered"</span>, () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> divs = lockScreen().find(<span class="string">"div"</span>)</span><br><span class="line">    <span class="comment">// When using .find, enzyme arranges the nodes in order such</span></span><br><span class="line">    <span class="comment">// that the outermost node is first in the list. So we can</span></span><br><span class="line">    <span class="comment">// use .first() to get the outermost div.</span></span><br><span class="line">    <span class="keyword">const</span> wrappingDiv = divs.first()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Enzyme omits the outermost node when using the .children()</span></span><br><span class="line">    <span class="comment">// method on lockScreen(). This is annoying, but we can use it</span></span><br><span class="line">    <span class="comment">// to verify that wrappingDiv contains everything else this</span></span><br><span class="line">    <span class="comment">// component renders.</span></span><br><span class="line">    expect(wrappingDiv.children()).toEqual(lockScreen().children())</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">describe(<span class="string">"when wallpaperPath prop is defined"</span>, () =&gt; &#123;</span><br><span class="line">  beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    props.wallpaperPath = <span class="string">"some/image.png"</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  it(<span class="string">"should assign wallpaperPath to container-div background-image"</span>, () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> wrappingDiv = lockScreen().find(<span class="string">"div"</span>).first()</span><br><span class="line">    expect(wrappingDiv.props().style.backgroundImage).toBe(<span class="string">`url(<span class="subst">$&#123;props.wallpaperPath&#125;</span>)`</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">it(<span class="string">"should render Clock"</span>, () =&gt; &#123;</span><br><span class="line">  expect(lockScreen().find(ClockDisplay).length).toBe(<span class="number">1</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">describe(<span class="string">"when rendering Clock"</span>, () =&gt; &#123;</span><br><span class="line">  it(<span class="string">"should not pass props to Clock"</span>, () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> clockDisplay = lockScreen().find(ClockDisplay)</span><br><span class="line">    expect(<span class="built_in">Object</span>.keys(clockDisplay.props()).length).toBe(<span class="number">0</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">describe(<span class="string">"when the userInfoMessage prop is defined"</span>, () =&gt; &#123;</span><br><span class="line">  beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    props.userInfoMessage = <span class="string">"This is my favorite phone!"</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  it(<span class="string">"should render TopOverlay"</span>, () =&gt; &#123;</span><br><span class="line">    expect(lockScreen().find(TopOverlay).length).toBe(<span class="number">1</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  it(<span class="string">"should pass userInfoMessage as children to TopOverlay"</span>, () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> topOverlay = lockScreen().find(TopOverlay)</span><br><span class="line">    expect(topOverlay.props().children).toBe(props.userInfoMessage)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">describe(<span class="string">"when userInfoMessage prop is undefined"</span>, () =&gt; &#123;</span><br><span class="line">  beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    props.userInfoMessage = <span class="literal">undefined</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  it(<span class="string">"should not render TopOverlay"</span>, () =&gt; &#123;</span><br><span class="line">    expect(lockScreen().find(TopOverlay).length).toBe(<span class="number">0</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">it(<span class="string">"should render SlideToUnlock"</span>, () =&gt; &#123;</span><br><span class="line">  expect(lockScreen().find(SlideToUnlock).length).toBe(<span class="number">1</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">describe(<span class="string">"when onUnlocked prop is defined"</span>, () =&gt; &#123;</span><br><span class="line">  beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    props.onUnlocked = jest.fn()</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  it(<span class="string">"should assign onUnlocked to SlideToUnlock onSlide prop"</span>, () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> slideToUnlock = lockScreen().find(SlideToUnlock)</span><br><span class="line">    expect(slideToUnlock.props().onSlide).toBe(props.onUnlocked)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">describe(<span class="string">"when onUnlocked prop is undefined"</span>, () =&gt; &#123;</span><br><span class="line">  beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    props.onUnlocked = <span class="literal">undefined</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  it(<span class="string">"should assign onUnlocked to SlideToUnlock onSlide prop"</span>, () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> slideToUnlock = lockScreen().find(SlideToUnlock)</span><br><span class="line">    expect(slideToUnlock.props().onSlide).not.toBeDefined()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="Maybe-not-what-you-expected"><a href="#Maybe-not-what-you-expected" class="headerlink" title="Maybe not what you expected"></a>Maybe not what you expected</h2><p>You may have expected our test cases to end up as something like:</p>
<ul>
<li>When dragging the slide-to-unlock handle all the way to the right<br>then the unlock callback is called</li>
<li>When dragging the slide-to-unlock handle partway to the right<br>then releases it, the handle is animated back to its original position</li>
<li>The clock at the top of the screen should always show the current time</li>
</ul>
<p>This intuition is natural. From an application perspective, these are some of the most noticeable features. However, we didn’t end up writing tests for any of that functionality. Why? They were not the concern of LockScreen.</p>
<p>The features described above are the concerns of SlideToUnlock and ClockDisplay, so tests around those features would go in the tests for those components, not here.</p>
<p>Because React components are reusable units, unit tests are a natural fit for them. And when unit testing, you should only test what your actual unit cares about. It is better to see the trees than the forest when writing React component tests.</p>
<h4 id="cheat-sheet-concerns-of-most-React-components"><a href="#cheat-sheet-concerns-of-most-React-components" class="headerlink" title="cheat sheet: concerns of most React components:"></a>cheat sheet: concerns of most React components:</h4><ul>
<li>What do I do with the props I receive?</li>
<li>What components do I render?</li>
<li>What do I pass to rendered components?</li>
<li>Do I ever keep anything in state?</li>
<li>Do I invalidate state when receiving new props?</li>
<li>When do I update state?</li>
<li>If a user interacts with me, what do I do?</li>
<li>If a child component calls a callback I passed to it, what do I do?</li>
<li>Does anything happen when I’m mounted? When I’m unmounted?</li>
</ul>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a href="https://goo.gl/B5mXvu" target="_blank" rel="noopener">The Right Way to Test React Components</a></li>
</ul>

                
            </div>
        </article>
    
        <article class="post-abstract">
            <div class="post-title">
                <h2><a class="post-title-link" href="/2017/02/09/2017/20170210-mongodb/">locking down mongodb</a></h2>
            </div>
            <div class="post-meta">
                <span class="post-time">2017-02-09</span>
                
            </div>
            <div class="post-content">
                
                    <blockquote>
<p>Update May 3 2017</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// start db in auth mode</span><br><span class="line">mcs</span><br><span class="line"></span><br><span class="line">// login (recommended)</span><br><span class="line">export MONGO_PASS=abc123</span><br><span class="line">mc connect -u username -p $MONGO_PASS MyServer/myapp</span><br><span class="line"></span><br><span class="line">// other ways to login</span><br><span class="line">// mc connect mongodb://user:pass@localhost:27017/myapp</span><br><span class="line">// mc connect -u user -p pass MyServer/myapp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// exit CLI</span><br><span class="line">&gt; exit</span><br><span class="line"></span><br><span class="line">// shutdown db</span><br><span class="line">mcq -y</span><br></pre></td></tr></table></figure>
<p>I gots hacked!!!<br>So… I have to learn to secure the old db.</p>
<h2 id="Securing-the-DB"><a href="#Securing-the-DB" class="headerlink" title="Securing the DB"></a>Securing the DB</h2><p>Keep in mind I use <code>mongoctl</code> for <code>mongodb</code> management</p>
<h3 id="Get-security-fixes"><a href="#Get-security-fixes" class="headerlink" title="Get security fixes"></a>Get security fixes</h3><p>upgrade to the latest version for the latest security fixes</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ mc list-versions</span><br><span class="line"></span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">VERSION              EDITION              LOCATION</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">3.0.12               community            /Users/frankg/mongodb/mongodb-osx-x86_64-community-3.0.12</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ mc install-mongodb 3.4.2</span><br><span class="line">[...]</span><br><span class="line"></span><br><span class="line">$ mc list-versions</span><br><span class="line"></span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">VERSION              EDITION              LOCATION</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">3.0.12               community            /Users/frankg/mongodb/mongodb-osx-x86_64-community-3.0.12</span><br><span class="line">3.4.2                community            /Users/frankg/mongodb/mongodb-osx-x86_64-community-3.4.2</span><br></pre></td></tr></table></figure>
<h3 id="Create-and-Manage-users"><a href="#Create-and-Manage-users" class="headerlink" title="Create and Manage users"></a>Create and Manage users</h3><h4 id="The-admin-user"><a href="#The-admin-user" class="headerlink" title="The admin user"></a>The admin user</h4><p>An admin user can do almost anything.  The key word there is almost.</p>
<blockquote>
<p>admin users cannot login to all databases.<br>you should create the users that need to login to each database<br>I think the reason they did this is to prevent admin passwords from being used on the internet</p>
</blockquote>
<p>admin users can login to the admin database or login without specifying a database.</p>
<p>create an admin user</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mcc</span><br><span class="line"></span><br><span class="line">MongoDB server version: 3.4.2</span><br><span class="line">&gt; use admin</span><br><span class="line"></span><br><span class="line">&gt; db.createUser(</span><br><span class="line">  &#123;</span><br><span class="line">    user: &quot;frankg&quot;,</span><br><span class="line">    pwd: &quot;xyz123&quot;,</span><br><span class="line">    roles: [ &apos;root&apos; ]</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>view a user’s roles</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mcc</span><br><span class="line"></span><br><span class="line">MongoDB server version: 3.4.2</span><br><span class="line">&gt; use admin</span><br><span class="line"></span><br><span class="line">&gt; db.getUser(&quot;frankg&quot;)</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;_id&quot; : &quot;admin.frankg&quot;,</span><br><span class="line">  &quot;user&quot; : &quot;frankg&quot;,</span><br><span class="line">  &quot;db&quot; : &quot;admin&quot;,</span><br><span class="line">  &quot;roles&quot; : [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;role&quot; : &quot;root&quot;,</span><br><span class="line">      &quot;db&quot; : &quot;admin&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="The-non-admin-user"><a href="#The-non-admin-user" class="headerlink" title="The non admin user"></a>The non admin user</h4><p>You will need to create users for each database if you want to login to that database.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mcc</span><br><span class="line"></span><br><span class="line">MongoDB server version: 3.4.2</span><br><span class="line">&gt; use myAppDb</span><br><span class="line"></span><br><span class="line">&gt; db.createUser(</span><br><span class="line">  &#123;</span><br><span class="line">   user: &quot;appUser&quot;,</span><br><span class="line">   pwd: &quot;appPass&quot;,</span><br><span class="line">   roles: [ &quot;readWrite&quot;]</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
<h4 id="change-a-user’s-pasword"><a href="#change-a-user’s-pasword" class="headerlink" title="change a user’s pasword"></a>change a user’s pasword</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mcc</span><br><span class="line"></span><br><span class="line">MongoDB server version: 3.4.2</span><br><span class="line">&gt; use admin</span><br><span class="line"></span><br><span class="line">&gt; db.changeUserPassword(&quot;frankg&quot;, &quot;xyz123&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="Securing-the-server-and-password"><a href="#Securing-the-server-and-password" class="headerlink" title="Securing the server and password"></a>Securing the server and password</h3><p>Here are the commands that I use to manage the database:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">alias mc=&apos;mongoctl&apos;</span><br><span class="line">alias mcs=&apos;mc start --auth MyServer &apos;</span><br><span class="line"># NOTE: don&apos;t bother trying to use the useless built in rest server!!</span><br><span class="line">alias mcq=&apos;mc stop -u frankg -p $MONGO_PASS MyServer&apos;</span><br><span class="line">alias mcst=&apos;mc status -u frankg -p $MONGO_PASS MyServer&apos;</span><br><span class="line">alias mcc=&apos;mc connect -u frankg -p $MONGO_PASS MyServer&apos;</span><br></pre></td></tr></table></figure>
<h4 id="securing-the-server"><a href="#securing-the-server" class="headerlink" title="securing the server"></a>securing the server</h4><p>The command used to start the server is:</p>
<p><code>alias mcs=&#39;mc start --auth MyServer&#39;</code></p>
<p>The key option for security is <code>--auth</code>.  This puts the database in secure mode requiring usernames and passwords.</p>
<h4 id="securing-the-password"><a href="#securing-the-password" class="headerlink" title="securing the password"></a>securing the password</h4><p>Notice that I do not use the <code>password</code> in this commands script.  Because that’s easy for a hacker to find. For example see this command:</p>
<p><code>alias mcq=&#39;mc stop -u frankg -p $MONGO_PASS MyServer&#39;</code></p>
<p>The password is represented by an environment variable <code>$MONGO_PASS</code></p>
<p>If a user opens a terminal and tries to use the mongo client with the <code>mcc</code> command it will not work.  In order to make it work you need to create the environment variable in your terminal like so:</p>
<p><code>export MONGO_PASS=xyz123</code></p>
<p>Now you can use the <code>mcc</code> command and work with the database.</p>
<p>To prevent others from access, close that terminal window when you’re done.</p>

                
            </div>
        </article>
    
        <article class="post-abstract">
            <div class="post-title">
                <h2><a class="post-title-link" href="/2017/02/09/2017/20170209-web-animation/">web animation</a></h2>
            </div>
            <div class="post-meta">
                <span class="post-time">2017-02-09</span>
                
            </div>
            <div class="post-content">
                
                    <h2 id="The-gist-of-it…"><a href="#The-gist-of-it…" class="headerlink" title="The gist of it…"></a>The gist of it…</h2><p>Use <code>transform</code> instead of changing CSS properties like <code>width</code> or <code>margin</code></p>
<p>transform will let you leverage the GPU and takes little effort.</p>
<p>with transform you can:</p>
<ul>
<li><code>position</code>: transform: translateX()</li>
<li><code>scale</code>: transform: scale()</li>
<li><code>rotation</code>: transform: rotate()</li>
<li><code>opacity</code>: opacity: 0…1</li>
</ul>
<p>The expensive operation in the browser is <code>layout</code>.  When you change the <code>width</code> or <code>margin</code> of a <code>div</code> you cause the browser to have to calculate <code>layout</code> for all the elements contained in that <code>div</code>.  This is a hugely expensive operation that will cause your animation to be <code>janky</code>.</p>
<h2 id="Checking-the-results-in-the-debugger"><a href="#Checking-the-results-in-the-debugger" class="headerlink" title="Checking the results in the debugger"></a>Checking the results in the debugger</h2><p>Using the <code>timeline</code> section of the <code>dev tools</code> you can check the load on the <code>cpu</code> and <code>paint</code> operations.  They should be very very low.  If they are high you’re doing it wrong.</p>
<h2 id="Animation-techniques"><a href="#Animation-techniques" class="headerlink" title="Animation techniques"></a>Animation techniques</h2><h3 id="technique-1"><a href="#technique-1" class="headerlink" title="technique 1"></a>technique 1</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* BAD */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100vw</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: width .<span class="number">35s</span>, margin-left .<span class="number">35s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.mysidebar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(100vw - 255px);</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">255px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here our <code>SideBar</code> component has the <code>sidebar</code> class and starts off with some properties.  When we add the <code>mysidebar</code> class to it, then the properties get overridden by the <code>mysidebar</code> class.  The speed of the transition is controlled with the <code>transition</code> property under the <code>sidebar</code> class.</p>
<h3 id="technique-2"><a href="#technique-2" class="headerlink" title="technique 2"></a>technique 2</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* GOOD */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#mybox</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">100px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">animation</span>: move <span class="number">3s</span> ease infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">keyframes</span> move &#123;</span><br><span class="line">  50% &#123;</span><br><span class="line">     <span class="attribute">transform</span>: <span class="built_in">translateX</span>(100px);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here a box identified by the <code>#mybox</code> id, will animate back and forth infinitely.</p>
<p>animation property:</p>
<ul>
<li><code>move</code> is the animation name</li>
<li><code>3s</code> take 3 seconds to complete the animation</li>
<li><code>ease</code> the flow of the movement.   others: (ease-in, ease-in-out, linear)</li>
<li><code>infinite</code> a flag to indicate not to stop</li>
</ul>
<h2 id="references"><a href="#references" class="headerlink" title="references"></a>references</h2><ul>
<li><a href="https://goo.gl/dEKgfL" target="_blank" rel="noopener">Animating with Translate - a Paul Irish codepen</a></li>
<li><a href="https://goo.gl/OzKCVa" target="_blank" rel="noopener">High Performance Animations</a></li>
<li><a href="https://goo.gl/cyBAJO" target="_blank" rel="noopener">10 principles for smooth web animations</a></li>
</ul>

                
            </div>
        </article>
    
</div>
<div class="paginator">
    
        
        <a class="prev" href="/page/12/">
            <i class="iconfont icon-prev"></i>
            Prev
        </a>
        
        
        <a class="next" href="/page/14/">
            Next
            <i class="iconfont icon-next"></i>
        </a>
        
    
</div>

    </div>
</div>
<footer class="footer-social">
    
    <a class="social-link" target="_blank" href="https://github.com/dearfrankg">
        <i class="iconfont icon-github"></i>
    </a>
    

    

    

    <div class="footer-copyright">
        <p class="time-line">
            &copy;
            
            
            2018
            &nbsp;<i class="iconfont icon-heart"></i>&nbsp;
            <a target="_blank" href="https://github.com/dearfrankg">Frank Gutierrez</a>
        </p>
    </div>
</footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> -->
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    

</script>
</html>
